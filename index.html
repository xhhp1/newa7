
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>๐งฌุงูุดุคูู ุงูุฅุฏุงุฑูุฉ๐งฌ</title>
<style>
  body {
    font-family: "Tahoma", sans-serif;
    background-image: url('https://raw.githubusercontent.com/xhhp1/medicaljpg/main/medic.jpg.jpg');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    padding: 30px;
    text-align: right;
    color: #000;
  }
  .overlay {
    background-color: rgba(255,255,255,0.95);
    border-radius: 20px;
    max-width: 800px;
    margin: auto;
    padding: 25px 30px;
    box-shadow: 0 0 15px rgba(0,0,0,0.3);
  }
  h2 { text-align: center; color: #8B0000; }
  .tabs { display: flex; justify-content: space-between; margin-bottom: 20px; flex-wrap: wrap; gap: 10px; }
  .tab-btn { flex: 1; background-color: #8B0000; color: white; border: none; padding: 10px; border-radius: 10px; cursor: pointer; font-size: 16px; }
  .tab-btn:hover { background-color: #a91c1c; }
  .form-section { display: none; }
  label { display: block; margin-top: 10px; font-weight: bold; }
  input, select {
    width: 100%; padding: 8px; margin-top: 5px; border-radius: 8px; border: 1px solid #ccc;
    text-align: right; font-size: 15px;
  }
  .time-group { display: flex; gap: 10px; }
  .time-group input, .time-group select { flex: 1; }
  button.generate {
    margin-top: 15px; padding: 10px 20px; background-color: #8B0000; color: white;
    border: none; border-radius: 10px; cursor: pointer; font-size: 16px; width: 100%;
  }
  button.generate:hover { background-color: #a91c1c; }
  pre {
    background: #ffffffcc; padding: 15px; border-radius: 10px; margin-top: 20px; white-space: pre-wrap;
    direction: rtl; border: 1px solid #ccc; font-size: 15px;
  }
</style>
</head>
<body>

<div class="overlay">
  <h2>๐งฌุงูุดุคูู ุงูุฅุฏุงุฑูุฉ๐งฌ</h2>
  <div class="tabs">
    <button class="tab-btn" onclick="showForm('internalLeave')">ุงูุฅุฌุงุฒุฉ ุงูุฏุงุฎููุฉ</button>
    <button class="tab-btn" onclick="showForm('resignation')">ุงูุงุณุชูุงูุฉ</button>
    <button class="tab-btn" onclick="showForm('externalLeave')">ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ</button>
    <button class="tab-btn" onclick="showForm('assignment')">ูููุฐุฌ ุงูุงูุชุฏุงุจ</button>
    <!-- NEW TABS ADDED -->
    <button class="tab-btn" onclick="showForm('rolesRequest')">ุทูุจ ุงูุฑููุงุช</button>
    <button class="tab-btn" onclick="showForm('ticketTemplates')">ููุงุฐุฌ ุงูุชูุชุงุช</button>
  </div>

  <!-- ุงูุฅุฌุงุฒุฉ ุงูุฏุงุฎููุฉ -->
  <div id="internalLeave" class="form-section">
    <h3>ุงูุฅุฌุงุฒุฉ ุงูุฏุงุฎููุฉ</h3>
    <label>ุงูููุจู ููุฒุฑ:</label>
    <input type="text" id="int_copyUser" placeholder="ุฃุฏุฎู ุงูููุจู ููุฒุฑ">
    <label>ูุฏุฉ ุงูุฅุฌุงุฒุฉ (ุจุงูุณุงุนุงุช):</label>
    <input type="number" id="int_vac_duration" placeholder="ุนุฏุฏ ุงูุณุงุนุงุช">
    <label>ุงูุฑุตูุฏ ุงููุชุจูู (ุจุงูุณุงุนุงุช):</label>
    <input type="number" id="int_vac_balance" placeholder="ุนุฏุฏ ุงูุณุงุนุงุช">
    <label>ููุช ุจุฏุก ุงูุฅุฌุงุฒุฉ:</label>
    <div class="time-group">
      <input type="number" id="int_vac_startHour" placeholder="ุงูุณุงุนุฉ (1-12)">
      <input type="number" id="int_vac_startMinute" placeholder="ุงูุฏูููุฉ (0-59)">
      <select id="int_vac_startPeriod">
        <option value="ุต">ุตุจุงุญูุง</option>
        <option value="ู">ูุณุงุกู</option>
      </select>
    </div>
    <button class="generate" onclick="generateInternalLeave()">ุฅูุดุงุก ุงููุฑุงุฑ</button>
    <button class="generate" onclick="copyInternalLeave()">ูุณุฎ ุงููุฑุงุฑ</button>
    <pre id="int_output"></pre>
  </div>

  <!-- ุงูุงุณุชูุงูุฉ -->
  <div id="resignation" class="form-section">
    <h3>ุงูุงุณุชูุงูุฉ / ุฅููุงุก ุฎุฏูุงุช</h3>
    <label>ูุณุชูู ุงููุณุนู:</label>
    <select id="res_level" onchange="updateResFields()">
      <option value="">-- ุงุฎุชุฑ ุงููุณุชูู --</option>
      <option value="ูุชุฏุฑุจ">ูุชุฏุฑุจ</option>
      <option value="ูุณุชูู 1">ูุณุชูู 1</option>
      <option value="ูุณุชูู 2 ููุง ููู">ูุณุชูู 2 ููุง ููู</option>
    </select>
    <label>ุงุณูู ูููุฏู ุงูููุฏุงูู:</label>
    <input type="text" id="res_nameCode" placeholder="ุฃุฏุฎู ุงูุงุณู ูุงูุฑูู ุงูููุฏุงูู">
    <label>ุงูููุจู ุงูุฏู:</label>
    <input type="text" id="res_copyId" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">
    <div id="res_violationsField" style="display:none;">
      <label>ูู ููุฌุฏ ุนููู ูุฎุงููุงุช ุณุงุจูู:</label>
      <select id="res_hasViolations">
        <option value="ูุง">ูุง</option>
        <option value="ูุนู">ูุนู</option>
      </select>
    </div>
    <button class="generate" onclick="generateResignation()">ุฅูุดุงุก ุงููุฑุงุฑ</button>
    <button class="generate" onclick="copyResignation()">ูุณุฎ ุงููุฑุงุฑ</button>
    <pre id="res_output"></pre>
  </div>

  <!-- ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ -->
  <div id="externalLeave" class="form-section">
    <h3>ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ</h3>

    <label>ุฃุฎุชุฑ ููุน ุงูุงุฌุงุฒุฉ ุงูุฎุงุฑุฌูุฉ:</label>
    <select id="ext_leaveType" onchange="updateExtForm()">
      <option value="">-- ุงุฎุชุฑ ููุน ุงูุฅุฌุงุฒุฉ --</option>
      <option value="ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ">ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ</option>
      <option value="ุชูุฏูุฏ ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ">ุชูุฏูุฏ ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ</option>
      <!-- โ ADDED: ุงูุชูุงุก ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ -->
      <option value="ุงูุชูุงุก ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ">ุงูุชูุงุก ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ</option>
    </select>

    <label>ุงูููุจู ุงูุฏู:</label>
    <input type="text" id="ext_copyUser" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">

    <div id="ext_leaveDaysField" style="display:none;">
      <label>ูุฏุฉ ุงูุฅุฌุงุฒุฉ (ุจุงูุฃูุงู):</label>
      <input type="number" id="ext_leaveDays" placeholder="ุฃุฏุฎู ุนุฏุฏ ุงูุฃูุงู">
    </div>

    <div id="ext_extensionField" style="display:none;">
      <label>ุชุงุฑูุฎ ุงูุชูุงุก ุงูุงุฌุงุฒุฉ ุงูุณุงุจูุฉ:</label>
      <input type="date" id="ext_previousEndDate">
      <label>ูุฏุฉ ุงูุชูุฏูุฏ (ุจุงูุฃูุงู):</label>
      <input type="number" id="ext_extensionDays" placeholder="ุฃุฏุฎู ุนุฏุฏ ุงูุฃูุงู">
    </div>

    <button class="generate" onclick="generateExternalLeave()">ุฅูุดุงุก ุงููุฑุงุฑ</button>
    <button class="generate" onclick="copyExternalLeave()">ูุณุฎ ุงููุฑุงุฑ</button>
    <pre id="ext_output"></pre>
  </div>

  <!-- ูููุฐุฌ ุงูุงูุชุฏุงุจ -->
  <div id="assignment" class="form-section">
    <h3>ูููุฐุฌ ุงูุงูุชุฏุงุจ</h3>
    <label>ุงูููุจู ุงูุฏู:</label>
    <input type="text" id="ass_copyId" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู ">
    <label>ุงุฎุชุฑ ุงููุทุงุน ุงูููุชุฏุจ ุงููู:</label>
    <select id="ass_sector">
      <option value="">-- ุงุฎุชุฑ ุงููุทุงุน --</option>
      <option value="ุญุฑุณ ุงูุญุฏูุฏ">ุญุฑุณ ุงูุญุฏูุฏ</option>
      <option value="ุงูู ุนุงู">ุงูู ุนุงู</option>
      <option value="ุงูู ุงูุทุฑู">ุงูู ุงูุทุฑู</option>
      <option value="ุงูู ุงูููุดุงุช">ุงูู ุงูููุดุงุช</option>
      <option value="ูุฑุงุฌ ุงููููุงูููู">ูุฑุงุฌ ุงููููุงูููู</option>
    </select>
    <label>ุงููุฏุฉ ุจุงูุงูุงู:</label>
    <input type="number" id="ass_duration" placeholder="ุฃุฏุฎู ุงููุฏุฉ ุจุงูุฃูุงู">
    <button class="generate" onclick="generateAssignment()">ุฅูุดุงุก ุงููุฑุงุฑ</button>
    <button class="generate" onclick="copyAssignment()">ูุณุฎ ุงููุฑุงุฑ</button>
    <pre id="ass_output"></pre>
  </div>

  <!-- ุทูุจ ุงูุฑููุงุช -->
  <div id="rolesRequest" class="form-section">
    <h3>ุทูุจ ุงูุฑููุงุช</h3>
    <label>ุงูููุจู ุงูุฏู:</label>
    <input type="text" id="role_copyId" placeholder="ุฃุฏุฎู ุงูููุจู ุงูุฏู">
    <label>ููุน ุงูุทูุจ:</label>
    <select id="role_type">
      <option value="">-- ุงุฎุชุฑ ููุน ุงูุทูุจ --</option>
      <option value="ุงุฒุงูู ุฑููุงุช ุงูููุงู ุงูุงุญูุฑ + ุงุฒุงูู ุงูุงุณู + ููุน ุงูุชูุธูู 14 ููู">ุงุฒุงูู ุฑููุงุช ุงูููุงู ุงูุงุญูุฑ + ุงุฒุงูู ุงูุงุณู + ููุน ุงูุชูุธูู 14 ููู</option>
      <option value="ุงุฒุงูู ุฑููุงุช ุงูููุงู ุงูุงุญูุฑ + ุงุฒุงูู ุงูุงุณู + ููุน ุงูุชูุธูู 7 ุงูุงู">ุงุฒุงูู ุฑููุงุช ุงูููุงู ุงูุงุญูุฑ + ุงุฒุงูู ุงูุงุณู + ููุน ุงูุชูุธูู 7 ุงูุงู</option>
      <option value="ุงุฒุงูู ุฑููุงุช ุงูููุงู ุงูุงุญูุฑ + ุงุฒุงูู ุงูุงุณู">ุงุฒุงูู ุฑููุงุช ุงูููุงู ุงูุงุญูุฑ + ุงุฒุงูู ุงูุงุณู</option>
      <option value="ุงุถุงูู ุฑูู ุงุฌุงุฒุฉ ูุธูููู">ุงุถุงูู ุฑูู ุงุฌุงุฒุฉ ูุธูููู</option>
      <option value="ุงุฒุงูู ุฑูู ุงุฌุงุฒุฉ ูุธูููู">ุงุฒุงูู ุฑูู ุงุฌุงุฒุฉ ูุธูููู</option>
      <option value="ุงุถุงูุฉ ุฑูู ุงูุนูููุงุช">ุงุถุงูุฉ ุฑูู ุงูุนูููุงุช</option>
      <option value="ุงุฒุงูู ุฑููุงุช ุงูููุงู ุงูุงุญูุฑ">ุงุฒุงูู ุฑููุงุช ุงูููุงู ุงูุงุญูุฑ</option>
    </select>
    <button class="generate" onclick="generateRoleRequest()">ุฅูุดุงุก ุงูุทูุจ</button>
    <button class="generate" onclick="copyRoleRequest()">ูุณุฎ ุงูุทูุจ</button>
    <pre id="role_output"></pre>
  </div>

  <!-- ููุงุฐุฌ ุงูุชูุชุงุช -->
  <div id="ticketTemplates" class="form-section">
    <h3>ููุงุฐุฌ ุงูุชูุชุงุช</h3>

    <label>ุงุฎุชุฑ ุงูุตูุบุฉ:</label>
    <select id="templateSelect" onchange="showTemplate()">
      <option value="">-- ุงุฎุชุฑ ุงูุตูุบุฉ --</option>
      <option value="ุฏุงุฎููุฉ">ุตูุบุฉ ุงูุฅุฌุงุฒุฉ ุงูุฏุงุฎููุฉ</option>
      <option value="ุฎุงุฑุฌูุฉ">ุตูุบุฉ ุงูุฅุฌุงุฒุฉ ุงูุฎุงุฑุฌูุฉ</option>
      <option value="ุนูุฏุฉุฏุงุฎููุฉ">ุตูุบุฉ ุงูุนูุฏุฉ ูู ุฅุฌุงุฒุฉ ุฏุงุฎููุฉ</option>
      <option value="ุนูุฏุฉุฎุงุฑุฌูุฉ">ุตูุบุฉ ุงูุนูุฏุฉ ูู ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ</option>
      <option value="ุบูุฑูุณุชูููู">ุตูุบุฉ ุงูุฅุฌุงุฒุฉ ุงูุฏุงุฎููุฉ ูุบูุฑ ุงููุณุชูููู</option>
      <option value="ูุจููุงุณุชูุงูุฉ">ุตูุบุฉ ูุจูู ุงูุฅุณุชูุงูุฉ</option>
      <option value="ุณููุฉ">ุตูุบุฉ ุงูุฅุณุชูุงูุฉ ูููุชุฏุฑุจ</option>
      <option value="ุฑูุถ">ุตูุบุฉ ุงูุฅุณุชูุงูุฉ ููุณุชูู 1</option>
      <option value="ุงููุงู">ุตูุบุฉ ุฅููุงู ุงูุชูุช</option>
      <option value="ุงุฒุงูุฉ">ุตูุบุฉ ุฅุฒุงูุฉ ููุน ุงูุชูุธูู</option>
      <option value="ุงูุชุฏุงุจ">ุตูุบุฉ ูุจูู ุงูุฅูุชุฏุงุจ</option>
      <option value="ููุงุฏุน">ุตูุบุฉ ุงูููุงุฏุน</option>
      <option value="ุงูุนุงุด">ุตูุบุฉ ุทูุจ ุงูุงูุนุงุด</option>
      <option value="ุดููู">ุตูุบุฉ ุงุณุชูุงู ุงูุดููู</option>
    </select>

    <div id="daysBox" style="display:none; margin-top:10px;">
      <label>ูุฏุฉ ุงูุงูุชุฏุงุจ (ุฃูุงู):</label>
      <input type="number" id="daysInput" value="5" oninput="updateDays()" placeholder="ุนุฏุฏ ุงูุฃูุงู">
    </div>

    <pre id="templateBox" style="min-height:120px; margin-top:12px;"></pre>
    <button class="generate" onclick="copyTemplate()">ูุณุฎ ุงูุตูุบุฉ</button>
  </div>

</div>

<script>
// Tab function
function showForm(id){
  document.querySelectorAll('.form-section').forEach(f => f.style.display='none');
  document.getElementById(id).style.display='block';
}

// ---------- ุงูุฅุฌุงุฒุฉ ุงูุฏุงุฎููุฉ ----------
function generateInternalLeave(){
  let copyUser = document.getElementById("int_copyUser").value.trim();
  let duration = parseFloat(document.getElementById("int_vac_duration").value) || 0;
  let balance = parseFloat(document.getElementById("int_vac_balance").value) || 0;
  let startHour = parseInt(document.getElementById("int_vac_startHour").value);
  let startMinute = parseInt(document.getElementById("int_vac_startMinute").value);
  let period = document.getElementById("int_vac_startPeriod").value;

  if (!startHour || startHour < 1 || startHour > 12) return alert("โ๏ธ ุงูุฑุฌุงุก ุฅุฏุฎุงู ุณุงุนุฉ ุตุญูุญุฉ (1 - 12)");
  if (isNaN(startMinute) || startMinute < 0 || startMinute > 59) return alert("โ๏ธ ุงูุฑุฌุงุก ุฅุฏุฎุงู ุฏูููุฉ ุตุญูุญุฉ (0 - 59)");

  if (period === "ู" && startHour < 12) startHour += 12;
  if (period === "ุต" && startHour === 12) startHour = 0;

  let tzDate = new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Riyadh"}));
  let yyyy = tzDate.getFullYear();
  let mm = String(tzDate.getMonth()+1).padStart(2,'0');
  let dd = String(tzDate.getDate()).padStart(2,'0');

  let startDate = new Date(`${yyyy}-${mm}-${dd}T${String(startHour).padStart(2,'0')}:${String(startMinute).padStart(2,'0')}:00`);
  let endDate = new Date(startDate);
  endDate.setHours(endDate.getHours()+duration);

  function formatDate(date){
    let y=date.getFullYear();
    let m=String(date.getMonth()+1).padStart(2,'0');
    let d=String(date.getDate()).padStart(2,'0');
    let h=date.getHours();
    let min=String(date.getMinutes()).padStart(2,'0');
    let per=h>=12?"ู":"ุต";
    h=h%12; h=h?h:12;
    return `${h}:${min} ${per} | ${y}/${m}/${d}`;
  }

  if(copyUser && !copyUser.startsWith("<@")) copyUser=`<@${copyUser}>`;

  let remaining = balance - duration;

  let result=`๏ทฝ

**ูุฑุงุฑ ุตูุงุฏุฑ ููู <@&1071933369698496532>**

ุงูููุถูุน : ุฅุฌุงุฒุฉ ุฏุงุฎููุฉ

ูููุณุนู : ${copyUser}

ุงููุฏุฉ : ${duration} ุณุงุนุฉ

ูู ุงูุณุงุนุฉ : ${formatDate(startDate)}
ุฅูู ุงูุณุงุนุฉ : ${formatDate(endDate)}

ุงูุฑุตูุฏ ุงููุชุจูู : ${remaining} ุณุงุนุฉ

ุฅุนุชูุงุฏ :
<@&1071933358503903242>
<@725655707764129813>

<@&1071933359086911561>
<@813079786855464961>
`;
  document.getElementById("int_output").textContent=result;
}
function copyInternalLeave(){navigator.clipboard.writeText(document.getElementById("int_output").textContent); alert("โ ุชู ูุณุฎ ุงููุฑุงุฑ ุจูุฌุงุญ!");}

// ---------- ุงูุงุณุชูุงูุฉ ----------
function updateResFields(){
  const level=document.getElementById('res_level').value;
  document.getElementById('res_violationsField').style.display=(level==='ูุณุชูู 2 ููุง ููู')?'block':'none';
}
function generateResignation(){
  const level=document.getElementById('res_level').value;
  const nameCode=document.getElementById('res_nameCode').value.trim();
  let copyId=document.getElementById('res_copyId').value.trim();
  const hasViolations=document.getElementById('res_hasViolations').value;
  if(!level) return alert('โ๏ธ ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ูุณุชูู ุงููุณุนู');
  if(!nameCode) return alert('โ๏ธ ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงุณูู ูููุฏู ุงูููุฏุงูู');
  if(!copyId) return alert('โ๏ธ ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงูููุจู ุงูุฏู');
  if(!copyId.startsWith('<@')) copyId=`<@${copyId}>`;
  let result='';
  if(level==='ูุชุฏุฑุจ'||level==='ูุณุชูู 1'){
    let days=level==='ูุชุฏุฑุจ'?14:7;
    let fine=level==='ูุชุฏุฑุจ'?'1,000,000':'500,000';
    let reason=level==='ูุชุฏุฑุจ'?'ุงุณุชูุงูุฉ ุจูุณุชูู ูุชุฏุฑุจ':'ุงุณุชูุงูุฉ ุจูุณุชูู 1';
    result=`๏ทฝ**

ูุฑุงุฑ ุตูุงุฏุฑ ููู <@&1071933369698496532> 

ุงูููุถูุน : ุฅููุงุก ุฎุฏูุงุช

ุงููุณุนู : ${copyId}

ุงุณูู ูููุฏู ุงูููุฏุงูู : ${nameCode}

ูู ููุฌุฏ ุนููู ูุฎุงููุงุช ุณุงุจูู : 
 
ุงูุนููุจุฉ ุงูุงุฌูุงููู : ูุตู ูู ุงูุฎุฏูู + ููุน ูู ุงูุชูุธูู (${days}) ุงูุงู + ุบุฑุงูู ูุงููุฉ ุจูููู (${fine})

ุณุจุจ ุงููุตู ูู ุงูุฎุฏูุฉ : ${reason}


ุฅุนุชูุงุฏ :
<@&1071933358503903242> 
<@725655707764129813>  

<@&1071933359086911561> 
<@813079786855464961>   **`;
  } else if(level==='ูุณุชูู 2 ููุง ููู'){
    const violationsText=hasViolations?hasViolations:'ูุง';
    result=`๏ทฝ**

ูุฑุงุฑ ุตูุงุฏุฑ ููู <@&1071933369698496532> 

ุงูููุถูุน : ุงุณุชูุงูุฉ 

ุงููุณุนู : ${copyId}

ุงุณูู ูููุฏู ุงูููุฏุงูู : ${nameCode}

ูู ููุฌุฏ ุนููู ูุฎุงููุงุช ุณุงุจูู : ${violationsText}  

ูุดูุฑ ุฌููุฏู ุงููุจุฐููุฉ ูุงูููุญูุธุฉ ูุฏู ุงููุทุงุน ููุณุฃู ุงููู ูู ุงูุชูููู


ุฅุนุชูุงุฏ :
<@&1071933358503903242>
<@725655707764129813>  

<@&1071933359086911561> 
<@813079786855464961>   **`;
  }
  document.getElementById('res_output').textContent=result;
}
function copyResignation(){navigator.clipboard.writeText(document.getElementById('res_output').textContent); alert("โ ุชู ูุณุฎ ุงููุฑุงุฑ ุจูุฌุงุญ!");}

// ---------- ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ ----------
function updateExtForm(){
  const type=document.getElementById('ext_leaveType').value;
  const daysField = document.getElementById('ext_leaveDaysField');
  const extField  = document.getElementById('ext_extensionField');

  // default hide/show
  daysField.style.display   = (type==='ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ') ? 'block' : 'none';
  extField.style.display    = (type==='ุชูุฏูุฏ ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ') ? 'block' : 'none';

  // For "ุงูุชูุงุก ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ": hide extra fields (leave copy input as-is)
  if (type === 'ุงูุชูุงุก ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ') {
    daysField.style.display = 'none';
    extField.style.display  = 'none';
  }
}
function formatExtDate(date){
  const yyyy=date.getFullYear();
  const mm=String(date.getMonth()+1).padStart(2,'0');
  const dd=String(date.getDate()).padStart(2,'0');
  return `${dd}-${mm}-${yyyy}`;
}
function generateExternalLeave(){
  const type=document.getElementById('ext_leaveType').value;
  if(!type) return alert('โ๏ธ ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ููุน ุงูุฅุฌุงุฒุฉ');

  let copyUser=document.getElementById("ext_copyUser").value.trim();
  if(!copyUser) return alert('โ๏ธ ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงูููุจู ุงูุฏู');
  if(!copyUser.startsWith('<@')) copyUser=`<@${copyUser}>`;

  let tzDate=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Riyadh"}));

  // --- ุงูุชูุงุก ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ ---
  if (type === 'ุงูุชูุงุก ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ') {
    const message=`**๏ทฝ

ูุฑุงุฑ ุตูุงุฏุฑ ููู <@&1071933369698496532> 

ุงูููุถูุน : ุงูุชูุงุก ุงุฌุงุฒู ุฎุงุฑุฌูู

ุงููุณุนู : ${copyUser}


ุฅุนุชูุงุฏ :
<@&1071933358503903242> 
<@725655707764129813>  

<@&1071933359086911561> 
<@813079786855464961>   **`;
    document.getElementById('ext_output').textContent=message;
    return;
  }

  // --- ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ ---
  if(type==='ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ'){
    const leaveDays=parseInt(document.getElementById('ext_leaveDays').value);
    if(!leaveDays||leaveDays<=0) return alert('โ๏ธ ุงูุฑุฌุงุก ุฅุฏุฎุงู ูุฏุฉ ุงูุฅุฌุงุฒุฉ ุจุงูุฃูุงู ุตุญูุญุฉ');
    const startDate=tzDate;
    const endDate=new Date(startDate);
    endDate.setDate(endDate.getDate()+leaveDays);
    const message=`๏ทฝ**

ูุฑุงุฑ ุตูุงุฏุฑ ููู <@&1071933369698496532> 

ุงูููุถูุน : ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ 

ูููุณุนู : ${copyUser}

ุงููุฏุฉ : ${leaveDays} ููู

ูู ุชุงุฑูุฎ : ${formatExtDate(startDate)}

ุฅูู ุชุงุฑูุฎ : ${formatExtDate(endDate)}


ุฅุนุชูุงุฏ :
<@&1071933358503903242> 
<@725655707764129813>  

<@&1071933359086911561> 
<@813079786855464961>   **`;
    document.getElementById('ext_output').textContent=message;
    return;
  }

  // --- ุชูุฏูุฏ ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ ---
  if(type==='ุชูุฏูุฏ ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ'){
    const prevEndStr=document.getElementById('ext_previousEndDate').value;
    const extensionDays=parseInt(document.getElementById('ext_extensionDays').value);
    if(!prevEndStr) return alert('โ๏ธ ุงูุฑุฌุงุก ุฅุฏุฎุงู ุชุงุฑูุฎ ุงูุชูุงุก ุงูุงุฌุงุฒุฉ ุงูุณุงุจูุฉ');
    if(!extensionDays||extensionDays<=0) return alert('โ๏ธ ุงูุฑุฌุงุก ุฅุฏุฎุงู ูุฏุฉ ุงูุชูุฏูุฏ ุจุงูุฃูุงู ุตุญูุญุฉ');
    const prevEndDate=new Date(prevEndStr+'T00:00:00');
    const newEndDate=new Date(prevEndDate);
    newEndDate.setDate(newEndDate.getDate()+extensionDays);
    const message=`๏ทฝ

**ูุฑุงุฑ ุตูุงุฏุฑ ููู <@&1071933369698496532> 

ุงูููุถูุน : ุชูุฏูุฏ ุงุฌุงุฒุฉ ุฎุงุฑุฌูุฉ 

ูููุณุนู : ${copyUser}

ุงููุฏุฉ : ${extensionDays} ููู

ุฅูู ุชุงุฑูุฎ : ${formatExtDate(newEndDate)}


ุฅุนุชูุงุฏ :
<@&1071933358503903242> 
<@725655707764129813>  

<@&1071933359086911561> 
<@813079786855464961>   **`;
    document.getElementById('ext_output').textContent=message;
    return;
  }
}
function copyExternalLeave(){
  navigator.clipboard.writeText(document.getElementById('ext_output').textContent);
  alert("โ ุชู ูุณุฎ ุงููุฑุงุฑ ุจูุฌุงุญ!");
}

// ---------- ูููุฐุฌ ุงูุงูุชุฏุงุจ ----------
function generateAssignment(){
  let copyId=document.getElementById('ass_copyId').value.trim();
  let sector=document.getElementById('ass_sector').value;
  let duration=parseInt(document.getElementById('ass_duration').value.trim());
  if(!copyId) return alert("โ๏ธ ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงูููุจู ุงูุฏู");
  if(!sector) return alert("โ๏ธ ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ุงููุทุงุน");
  if(isNaN(duration)||duration<=0) duration=0;
  if(!copyId.startsWith("<@")) copyId=`<@${copyId}>`;
  let tzDate=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Riyadh"}));
  tzDate.setDate(tzDate.getDate()+duration);
  let yyyy=tzDate.getFullYear();
  let mm=String(tzDate.getMonth()+1).padStart(2,'0');
  let dd=String(tzDate.getDate()).padStart(2,'0');
  let endDate=`${yyyy}/${mm}/${dd}`;
  let result=`๏ทฝ

**ูุฑุงุฑ ุตุงุฏุฑ ูู <@&1071933369698496532> 

ุงูููุถูุน : ุงูุชุฏุงุจ

ูููุณุนู : ${copyId}

ุงููุทุงุน ุงูููุชุฏุจ ูู : ${sector}

ุงููุฏุฉ : ${duration}

ุงูู ุชุงุฑูุฎ : ${endDate}


ุฅุนุชูุงุฏ :
<@&1071933358503903242> 
<@725655707764129813>  

<@&1071933359086911561> 
<@813079786855464961>    **`;
  document.getElementById('ass_output').textContent=result;
}
function copyAssignment(){navigator.clipboard.writeText(document.getElementById('ass_output').textContent); alert("โ ุชู ูุณุฎ ุงููุฑุงุฑ ุจูุฌุงุญ!");}

// --------- rolesRequest ---------
function generateRoleRequest() {
  let copyId = document.getElementById("role_copyId").value.trim();
  const type = document.getElementById("role_type").value;
  if (!copyId) return alert("โ๏ธ ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงูููุจู ุงูุฏู");
  if (!type) return alert("โ๏ธ ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ููุน ุงูุทูุจ");
  if (!copyId.startsWith("<@")) copyId = `<@${copyId}>`;
  const result = `
  
ุงูุดุฎุต : ${copyId}

ุงูููุถูุน : ${type}


<@&1071933358503903242>            
<@&1071933359086911561>            
<@&1092667422902862004>            
<@&1153823182281777293>
`;
  document.getElementById("role_output").textContent = result;
}
function copyRoleRequest() {
  const text = document.getElementById("role_output").textContent.trim();
  if (!text) return alert("โ๏ธ ูุง ููุฌุฏ ูุต ููุณุฎู.");
  navigator.clipboard.writeText(text)
    .then(() => alert("โ ุชู ูุณุฎ ุงููุฑุงุฑ ุจูุฌุงุญ!"))
    .catch(() => alert("โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงููุณุฎ."));
}

// --------- templates ---------
const templates = {
 "ุฏุงุฎููุฉ": `ููุฏ ุชู ููุญู ุฅุฌุงุฒุฉ ุฏุงุฎููุฉ ูุญุฏูุฏุฉ ุงูุดุฑูุท :

1- ูุฑุฌู ุงูุฅูุชุฒุงู ุจุชุงุฑูุฎ ุงูุนูุฏุฉ ุงููุฏูู ูู : https://discord.com/channels/1071933157097615480/1202354280514990212 ููู ุจุงูุชูุงุนู ุจู โ ุนูู ุงูุฅุฌุงุฒุฉ.

2- ูู ุญุงู ุนุฏู ุงูุชูุงุนู ูุนุฏู ุชุบููุฑ ุงููุธููุฉ ุฎูุงู ุฃูู 15 ุฏูููุฉ ุณูู ุชูุบู ุงุฌุงุฒุชู , ููุง ูุญู ูู ุงููุทุงูุจุฉ ุจุฅุณุชุฑุฏุงุฏ ุฑุตูุฏูุง .

3- ุนูุฏ ุฅูุชูุงุก ุชูููุช ุงูุฅุฌุงุฒุฉ ูู ุจูุชุญ ุชุฐูุฑุฉ ูุณุงุนุฏุฉ ูู ุงูุดุคูู ุงูุฅุฏุงุฑูุฉ ูุฅุซุจุงุช ุงูุนูุฏุฉ ูุน ุชุตููุฑ ุงููููุฉ .

4- ูููุน ุทูุจ ุงูุชูุฏูุฏ ุฃู ุทูุจ ุฅุฌุงุฒุฉ ุฃุฎุฑู ูู ููุณ ุงูููู .

\`\`\`diff
- ููุง ูููู ูููุน ููุนุงู ุจุงุชุงู ุชุบููุฑ ุงูุงุณู ุฏุงุฎู ุงูููุงุทุนุฉ ูู ููุงูุน ุชุบููุฑ ุงููููุงุช ุนูุฏ ุงูุฎุฑูุฌ ูู ุงูุฅุฌุงุฒุฉ ุงูุฏุงุฎููุฉ ููุชู ูุชุงุจุนุฉ ุงูููุถูุน ูู ูุจู ุฅุฏุงุฑุฉ ุงูุฑูุงุจุฉ ูุงูุชูุชูุด ุนุฏู ุฅูุชุฒุงูู ุจุฃู ุชูููู ูุฏูู ุฃุนูุงู ูุนุฑุถู ูููุฎุงููุฉ.
  
  \`\`\``,
 "ุฎุงุฑุฌูุฉ": `ููุฏ ุชู ููุญู ุฅุฌุงุฒุฉ ุฎุงุฑุฌูุฉ ููู ุงูุดุฑูุท ุงูุชุงููุฉ:

**1- ูุฑุฌู ุงูุฅูุชุฒุงู ุจุชุงุฑูุฎ ุงูุนูุฏุฉ ุงููุฏูู ูู : https://discord.com/channels/1071933157097615480/1202354280514990212 ููู ุจุงูุชูุงุนู ุจู โ  ุนูู ุงูุฅุฌุงุฒุฉ.**

**2- ูุณูุญ ูู ุจุงูุชูุฏูุฏ ูุจู ุฅูุชูุงุก ุงูุงุฌุงุฒุฉ ุญุณุจ https://discord.com/channels/1071933157097615480/1071934528320454818/1289312826229391471  .**

**3- ุณูุชู ููุญู ุฑูู ( ุงุฌุงุฒู ูุธูููู )  ูู ุญุงู ุงูุนูุฏู ูู ุงูุงุฌุงุฒู ุฑุฌุงุกุงู ูู ุจูุชุญ ุชููุช ูุงุจูุงุบูุง ุจุนูุฏุชู ูุณูุงุญ ุงูุงุฏุงุฑุฉ ุจุงููุจุงุดุฑุฉ ุงูููุฏุงููุฉ.**

***ุนุฏู ุฅูุชุฒุงูู ุจุฃู ุชูููู ูุฏูู ุฃุนูุงู ูุนุฑุถู ูููุฎุงููุฉ .***`,
 "ุนูุฏุฉุฏุงุฎููุฉ": `
**ุชู ุชุณุฌูู ุนูุฏุชูู ุจูุฌุงุญ ููููู ุงูุงู ุงููุจุงุดุฑู <:jobcenter:1152025666154418186> 

ุดูุฑุงู ูุชูุงุตููู ูุน <:imagesremovebgpreview:1086073447840485527> ุงูุดุคูู ุงูุฅุฏุงุฑูุฉ ููุทุงุน ุงูููุงู ุงูุฃุญูุฑ - ููุงุทุนุฉ ุจูููุชู  <:imagesremovebgpreview:1086073447840485527>  
ูู ุญุงู ุนุฏู ูุฌูุฏ ุงุณุชูุณุงุฑุงุช ุฃุฎุฑู ูุฑุฌู ุฅุบูุงู ุงูุชูุช ูุชูููู ูุณุชูู ุงูุฎุฏูุฉ ุ
ุดุงูุฑูู ูููุฏุฑูู ููู , ุฏูุชู ุจุฎูุฑ .**`,
 "ุนูุฏุฉุฎุงุฑุฌูุฉ": `ุนูุฏุงู ุญููุฏุงู ููุชููู ุงูุชูููู ูู ูู ุงูููุฏุงู

ุดูุฑุงู ูุชูุงุตููู ูุน <:imagesremovebgpreview:1086073447840485527> ุงูุดุคูู ุงูุฅุฏุงุฑูุฉ ููุทุงุน ุงูููุงู ุงูุฃุญูุฑ - ููุงุทุนุฉ ุจูููุชู <:imagesremovebgpreview:1086073447840485527>
ูู ุญุงู ุนุฏู ูุฌูุฏ ุงุณุชูุณุงุฑุงุช ุฃุฎุฑู ูุฑุฌู ุฅุบูุงู ุงูุชูุช ูุชูููู ูุณุชูู ุงูุฎุฏูุฉ ุ
ุดุงูุฑูู ูููุฏุฑูู ููู , ุฏูุชู ุจุฎูุฑ .`,
 "ุบูุฑูุณุชูููู": `ุงูุฅุฌุงุฒุฉ ุงูุฏุงุฎููุฉ ูุบูุฑ ุงููููููู :

- ุณูุชู ุฑูุถ ุทูุจ ุฅุฌุงุฒุชู ุงูุฏุงุฎููุฉ ุจุณุจุจ : ( ุทูุจ ุฅุฌุงุฒุฉ ุฏุงุฎููุฉ ูู ุบูุฑ ุงูุฃูุงู ุงููุณููุญุฉ ูุฏูู ุงููุจุงุดุฑุฉ 3 ุณุงุนุงุช . )
- ุซุงููุงู : ุณูุชู ุงุตุฏุงุฑ ูู ุงูุฐุงุฑ + ุชุฃุฎูุฑ ุชุฑููุฉ + (ุบุฑุงูุฉ ุจูููุฉ 500 ุงูู ).`,
 "ูุจููุงุณุชูุงูุฉ": `ุชู ูุจูู ุทูุจ ุงุณุชูุงูุชู ุจูุฌุงุญ ููุดูุฑ ุฌููุฏู ุงููุจุฐููุฉ ูุงูููุญูุธุฉ ูุฏู ุงููุทุงุน ููุณุฃู ุงููู ูู ุงูุชูููู ูุงูุณุฏุงุฏ .

ุชูููุน ูุงุนุชูุงุฏ :
<@&1071933358503903242>
<@725655707764129813>

<@&1071933359086911561>
<@813079786855464961>`,
 "ุณููุฉ": `ุจูุงุกูุง ุนูู ุฑุบุจุชู ูู ุงูุงุณุชูุงูุฉ ุนููู ุงูุงูุชุฒุงู ุจูุง ูู ุขุช:

1-ุงุฐูุฑ ูููุนู ูููุดุฑู
2-ุณูุตุฏุฑ ูู ุบุฑุงูุฉ ุจูููุฉ ( 1.000.000 )
3-ุณูุชู ููุญู ุฑูู ููุน ุชูุธูู ( 14 ููู )
4-ุจุนุฏ ูุฒูู ุงููุฑุงุฑ ููุฑูุง ุชูุฌุฉ ููุฑูุฒ ุงูุชูุธูู ูู ุจุชุบููุฑ ูุธููุชู ุฎูุงู ุฐูู ูุนุชุจุฑ ุชูุฑุจ ูุธููู`,
 "ุฑูุถ": `ุจูุงุกูุง ุนูู ุฑุบุจุชู ูู ุงูุงุณุชูุงูุฉ ุนููู ุงูุงูุชุฒุงู ุจูุง ูู ุขุช :

1-ุงุฐูุฑ ูููุนู ูููุดุฑู
2-ุณูุตุฏุฑ ูู ุบุฑุงูุฉ ุจูููุฉ ( 500.000 )
3-ุณูุชู ููุญู ุฑูู ููุน ุชูุธูู ( 7 ุฃูุงู )
4-ุจุนุฏ ูุฒูู ุงููุฑุงุฑ ููุฑูุง ุชูุฌุฉ ููุฑูุฒ ุงูุชูุธูู ูู ุจุชุบููุฑ ูุธููุชู ุฎูุงู ุฐูู ูุนุชุจุฑ ุชูุฑุจ ูุธููู`,
 "ุงููุงู": `ุนุฒูุฒู ุงููุณุชููุฏ :
ุฅููุงู ุงูุชูุช ูุฎุงููุฉ ููุตูุต ุนูููุง ูู ุฏุณุชูุฑ ููุงุทุนุฉ ุจูููุชู ูุถูุงู ูุฑุฌู ุนุฏู ุงููุงู ุงูุชูุช <:imagesremovebgpreview:1086073447840485527>`,
 "ุงุฒุงูุฉ": `ุนุฒูุฒู ุงููุณุชููุฏ : <:imagesremovebgpreview:1086073447840485527>

ุดุงูุฑูู ูู ุชูุงุตูู ูุชู ุงูุชุญูู ูู ุจูุงูุงุชู ูุณูุชู ุฎูุงู ุงูุณุงุนุงุช ุงููุงุฏูุฉ ุฅุฒุงูุฉ ููุน ุงูุชูุธูู <:imagesremovebgpreview:1086073447840485527>`,
 "ุงูุชุฏุงุจ": (days=5) => `ููุฏ ุชู ููุญู ุฃูุชุฏุงุจ ููุฏุฉ ${days} ุฃูุงู :

1- ูุฑุฌู ุงูุฅูุชุฒุงู ุจุชุงุฑูุฎ ุงูุนูุฏุฉ ุงููุฏูู ูู : https://discord.com/channels/1071933157097615480/1202354280514990212 ููู ุจุงูุชูุงุนู ุจู โ ุนูู ุงูุงูุชุฏุงุจ .

2- ูู ุญุงู ุชู ูุจูู ุงูุชุฏุงุจู ูู ูุจู ุงููุทุงุน ุงูุซุงููู ุ ุจุฃููุงูู ุชุบููุฑ ูุธููุชู ุจุนุฏ ุงูุญุตูู ุนูู ุฑูู ููุชุฏุจ.

3- ูููุน ููุนุงู ุจุงุชุง ูุณุฑ ุงูุงูุชุฏุงุจ ูุจู ุงูุชูุงุก ูุฏุฉ ุงูุชุฏุงุจู ุ ููุณุฑ ุงูุงูุชุฏุงุจ ููุท ูู ูุจู ุงูููุงุฏุฉ .

***ุนุฏู ุฅูุชุฒุงูู ุจุฃู ุชูููู ูุฏูู ุฃุนูุงู ูุนุฑุถู ูููุฎุงููุฉ .***`,
 "ููุงุฏุน": `ุดูุฑุงู ูุชูุงุตููู ูุน <:imagesremovebgpreview:1086073447840485527> ุงูุดุคูู ุงูุฅุฏุงุฑูุฉ ููุทุงุน ุงูููุงู ุงูุฃุญูุฑ - ููุงุทุนุฉ ุจูููุชู <:imagesremovebgpreview:1086073447840485527>
ูู ุญุงู ุนุฏู ูุฌูุฏ ุงุณุชูุณุงุฑุงุช ุฃุฎุฑู ูุฑุฌู ุฅุบูุงู ุงูุชูุช ูุชูููู ูุณุชูู ุงูุฎุฏูุฉ ุ
ุดุงูุฑูู ูููุฏุฑูู ููู , ุฏูุชู ุจุฎูุฑ .`,
 "ุงูุนุงุด": `ุนุฒูุฒู ุงููุณุชููุฏ: <:imagesremovebgpreview:1086073447840485527>
ููุฏ ุชูุจููู ุจุฃู ุทูุจ ุงูุงูุนุงุด ูุฎุงููุฉ ููุตูุต ุนูููุง ูู ูุจู ุงุฏุงุฑุฉ ุงูุฑูุงุจุฉ ูุงูุชูุชูุด <:imagesremovebgpreview:1086073447840485527>`,
 "ุดููู": `ูุดูุฑ ููู ุชูุงุตููู ูุฅูุชูุงููู , ููุชุณุฑูุน ุนูููุฉ ูุนุงูุฌุฉ ุงูุดููู ูุฑุฌูุง ุชูููุฑ ูุง ููู :

- ุงุณู ุงููุณุนู ุจุดูู ูุงุถุญ .
- ุชุตููุฑ ูุงุถุญ ูุง ููู ุนู 10 ุฏูุงุฆู , ูููุง 5 ูุจู ูููุน ุงูุญุงุฏุซุฉ ู 5 ุฃุซูุงุก ูุจุนุฏ ุญุฏูุซ ุงูุญุงุฏุซุฉ , ุฏูู ูุต ุงูููุทุงุช .
- ุงูุฅูุชุฒุงู ุจุฅุฑูุงู ุฅุซุจุงุช ุงูุดููู ุฏุงุฎู ุชูุช ุงูุดููู , ุฃู ูู ุญุงู ุชุนุฐุฑ ุฐูู ุฑูุนู ุนูู ูููุน : 
https://streamable.com/
ุญุณุจ ุงูุชูุตูุงุช ูู ุฅุฏุงุฑุฉ ุงูุฑูุงุจุฉ ูุงูุชูุชูุด .

***ุนุฏู ุฅูุชุฒุงูู ุจุฃู ุจูุฏ ูู ุงูุจููุฏ ุงููุฐููุฑุฉ ุฃุนูุงู ููุบู ุดููุงู .***`
};

function showTemplate() {
  const sel = document.getElementById('templateSelect').value;
  const box = document.getElementById('templateBox');
  const daysBox = document.getElementById('daysBox');
  if (sel === 'ุงูุชุฏุงุจ') {
    daysBox.style.display = 'block';
    const days = parseInt(document.getElementById('daysInput').value) || 5;
    box.textContent = templates['ุงูุชุฏุงุจ'](days);
  } else {
    daysBox.style.display = 'none';
    box.textContent = templates[sel] || '';
  }
}
function updateDays() {
  const days = parseInt(document.getElementById('daysInput').value) || 5;
  document.getElementById('templateBox').textContent = templates['ุงูุชุฏุงุจ'](days);
}
function copyTemplate() {
  const txt = document.getElementById('templateBox').textContent;
  if (!txt) return alert('ูุง ููุฌุฏ ูุต ููุณุฎู. ุงุฎุชุฑ ุตูุบุฉ ุฃููุงู.');
  navigator.clipboard.writeText(txt);
  alert('โ ุชู ูุณุฎ ุงูุตูุบุฉ ุจูุฌุงุญ!');
}
</script>
</body>
</html>
